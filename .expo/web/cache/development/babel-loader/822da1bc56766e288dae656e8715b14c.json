{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/DavidPapamichael/Coding/makers/week_13+/projects/hack_for_heroes/pocket_positivity_frontend/node_modules/react-native-chatbot-expo/lib/steps/text/TextStep.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Bubble from \"./Bubble\";\nimport Img from \"./Image\";\nimport ImageContainer from \"./ImageContainer\";\nimport Loading from \"../common/Loading\";\nimport TextStepContainer from \"./TextStepContainer\";\nimport TextMessage from \"./TextMessage\";\n\nvar TextStep = function (_Component) {\n  _inherits(TextStep, _Component);\n\n  var _super = _createSuper(TextStep);\n\n  function TextStep(props) {\n    var _this;\n\n    _classCallCheck(this, TextStep);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: true\n    };\n    _this.renderMessage = _this.renderMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TextStep, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var step = this.props.step;\n      var component = step.component,\n          delay = step.delay,\n          waitAction = step.waitAction;\n      var isComponentWatingUser = component && waitAction;\n      setTimeout(function () {\n        _this2.setState({\n          loading: false\n        });\n\n        if (!isComponentWatingUser) {\n          _this2.props.triggerNextStep();\n        }\n      }, delay);\n    }\n  }, {\n    key: \"renderMessage\",\n    value: function renderMessage() {\n      var _this$props = this.props,\n          previousValue = _this$props.previousValue,\n          step = _this$props.step;\n      var component = step.component;\n      var message = step.message;\n\n      if (component) {\n        var _this$props2 = this.props,\n            steps = _this$props2.steps,\n            previousStep = _this$props2.previousStep,\n            triggerNextStep = _this$props2.triggerNextStep;\n        return React.cloneElement(component, {\n          step: step,\n          steps: steps,\n          previousStep: previousStep,\n          triggerNextStep: triggerNextStep\n        });\n      }\n\n      message = message.replace(/{previousValue}/g, previousValue);\n      return message;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          step = _this$props3.step,\n          isFirst = _this$props3.isFirst,\n          isLast = _this$props3.isLast,\n          avatarStyle = _this$props3.avatarStyle,\n          avatarWrapperStyle = _this$props3.avatarWrapperStyle,\n          bubbleStyle = _this$props3.bubbleStyle,\n          userBubbleStyle = _this$props3.userBubbleStyle,\n          hideBotAvatar = _this$props3.hideBotAvatar,\n          hideUserAvatar = _this$props3.hideUserAvatar;\n      var avatar = step.avatar,\n          bubbleColor = step.bubbleColor,\n          fontColor = step.fontColor,\n          user = step.user;\n      var showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\n      return React.createElement(TextStepContainer, {\n        className: \"rsc-ts\",\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, isFirst && showAvatar && React.createElement(ImageContainer, {\n        className: \"rsc-ts-image-container\",\n        borderColor: bubbleColor,\n        style: avatarWrapperStyle,\n        user: user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, React.createElement(Img, {\n        className: \"rsc-ts-image\",\n        style: avatarStyle,\n        showAvatar: showAvatar,\n        user: user,\n        source: {\n          uri: avatar\n        },\n        alt: \"avatar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      })), React.createElement(Bubble, {\n        className: \"rsc-ts-bubble\",\n        style: user ? userBubbleStyle || bubbleStyle : bubbleStyle,\n        user: user,\n        bubbleColor: bubbleColor,\n        showAvatar: showAvatar,\n        isFirst: isFirst,\n        isLast: isLast,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, this.state.loading && React.createElement(Loading, {\n        color: fontColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 35\n        }\n      }), !this.state.loading && React.createElement(TextMessage, {\n        className: \"rsc-ts-text\",\n        fontColor: fontColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, this.renderMessage())));\n    }\n  }]);\n\n  return TextStep;\n}(Component);\n\nTextStep.propTypes = {\n  isFirst: PropTypes.bool.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  step: PropTypes.object.isRequired,\n  triggerNextStep: PropTypes.func.isRequired,\n  avatarStyle: PropTypes.object.isRequired,\n  avatarWrapperStyle: PropTypes.object,\n  bubbleStyle: PropTypes.object.isRequired,\n  userBubbleStyle: PropTypes.object.isRequired,\n  hideBotAvatar: PropTypes.bool.isRequired,\n  hideUserAvatar: PropTypes.bool.isRequired,\n  previousStep: PropTypes.object,\n  previousValue: PropTypes.any,\n  steps: PropTypes.object\n};\nTextStep.defaultProps = {\n  previousStep: {},\n  steps: {},\n  previousValue: '',\n  avatarWrapperStyle: {}\n};\nexport default TextStep;","map":{"version":3,"sources":["/Users/DavidPapamichael/Coding/makers/week_13+/projects/hack_for_heroes/pocket_positivity_frontend/node_modules/react-native-chatbot-expo/lib/steps/text/TextStep.js"],"names":["React","Component","PropTypes","Bubble","Img","ImageContainer","Loading","TextStepContainer","TextMessage","TextStep","props","state","loading","renderMessage","bind","step","component","delay","waitAction","isComponentWatingUser","setTimeout","setState","triggerNextStep","previousValue","message","steps","previousStep","cloneElement","replace","isFirst","isLast","avatarStyle","avatarWrapperStyle","bubbleStyle","userBubbleStyle","hideBotAvatar","hideUserAvatar","avatar","bubbleColor","fontColor","user","showAvatar","uri","propTypes","bool","isRequired","object","func","any","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Bubble from './Bubble';\nimport Img from './Image';\nimport ImageContainer from './ImageContainer';\nimport Loading from '../common/Loading';\nimport TextStepContainer from './TextStepContainer';\nimport TextMessage from './TextMessage';\n\nclass TextStep extends Component {\n  /* istanbul ignore next */\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n    };\n\n    this.renderMessage = this.renderMessage.bind(this);\n  }\n\n  componentDidMount() {\n    const { step } = this.props;\n    const { component, delay, waitAction } = step;\n    const isComponentWatingUser = component && waitAction;\n    setTimeout(() => {\n      // this.props.triggerNextStep();\n      this.setState({ loading: false });\n      if (!isComponentWatingUser) {\n        this.props.triggerNextStep();\n      }\n    }, delay);\n  }\n\n  renderMessage() {\n    const { previousValue, step } = this.props;\n    const { component } = step;\n    let { message } = step;\n\n    if (component) {\n      const { steps, previousStep, triggerNextStep } = this.props;\n      return React.cloneElement(component, {\n        step,\n        steps,\n        previousStep,\n        triggerNextStep,\n      });\n    }\n\n    message = message.replace(/{previousValue}/g, previousValue);\n\n    return message;\n  }\n\n  render() {\n    const {\n      step,\n      isFirst,\n      isLast,\n      avatarStyle,\n      avatarWrapperStyle,\n      bubbleStyle,\n      userBubbleStyle,\n      hideBotAvatar,\n      hideUserAvatar,\n    } = this.props;\n    const {\n      avatar,\n      bubbleColor,\n      fontColor,\n      user,\n    } = step;\n\n    const showAvatar = user ? !hideUserAvatar : !hideBotAvatar;\n\n    return (\n      <TextStepContainer\n        className=\"rsc-ts\"\n        user={user}\n      >\n        {\n          isFirst && showAvatar &&\n          <ImageContainer\n            className=\"rsc-ts-image-container\"\n            borderColor={bubbleColor}\n            style={avatarWrapperStyle}\n            user={user}\n          >\n            <Img\n              className=\"rsc-ts-image\"\n              style={avatarStyle}\n              showAvatar={showAvatar}\n              user={user}\n              source={{ uri: avatar }}\n              alt=\"avatar\"\n            />\n          </ImageContainer>\n        }\n        <Bubble\n          className=\"rsc-ts-bubble\"\n          style={user ? userBubbleStyle || bubbleStyle :  bubbleStyle}\n          user={user}\n          bubbleColor={bubbleColor}\n          showAvatar={showAvatar}\n          isFirst={isFirst}\n          isLast={isLast}\n        >\n          { this.state.loading && <Loading color={fontColor} /> }\n          {\n            !this.state.loading &&\n            <TextMessage\n              className=\"rsc-ts-text\"\n              fontColor={fontColor}\n            >\n              {this.renderMessage()}\n            </TextMessage>\n          }\n        </Bubble>\n      </TextStepContainer>\n    );\n  }\n}\n\nTextStep.propTypes = {\n  isFirst: PropTypes.bool.isRequired,\n  isLast: PropTypes.bool.isRequired,\n  step: PropTypes.object.isRequired,\n  triggerNextStep: PropTypes.func.isRequired,\n  avatarStyle: PropTypes.object.isRequired,\n  avatarWrapperStyle: PropTypes.object,\n  bubbleStyle: PropTypes.object.isRequired,\n  userBubbleStyle: PropTypes.object.isRequired,\n  hideBotAvatar: PropTypes.bool.isRequired,\n  hideUserAvatar: PropTypes.bool.isRequired,\n  previousStep: PropTypes.object,\n  previousValue: PropTypes.any,\n  steps: PropTypes.object,\n};\n\nTextStep.defaultProps = {\n  previousStep: {},\n  steps: {},\n  previousValue: '',\n  avatarWrapperStyle: {}\n};\n\nexport default TextStep;\n"]},"metadata":{},"sourceType":"module"}